<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/SplitText.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/lenis@1.3.8/dist/lenis.min.js"></script> 
  </head>
  <body>
    <section
      class="min-h-screen z-10 relative flex flex-col gap-6 justify-center items-center"
      id="inicio"
    >
      <div id="fondo" class="absolute min-h-screen w-full bg-radial-[at_25%_25%] from-black to-zinc-900 to-75% z-0"></div>
      <h1 class="titular z-20 text-6xl font-bold text-amber-500">Juan Rodriguez</h1>
      <h2 class="subtitulo z-20 text-4xl font-semibold text-white">
        Desarrollador web
      </h2>
    </section>
    <section
      class="min-h-screen text-white bg-radial-[at_25%_25%] from-black to-zinc-900 to-75% flex flex-col gap-6 justify-center items-center"
    >
      <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Harum, ratione
        illum asperiores quaerat nemo, consequatur rerum incidunt ea sed
        dignissimos fuga numquam laborum explicabo quidem, assumenda inventore
        minima dolorem pariatur.
      </p>
    </section>
    <script>
      document.addEventListener("DOMContentLoaded", (event) => {
        /*
        Las animaciones de tipo from permiten animar desde el estado de la animación hasta
        el estado natural del elemento.
        gsap.from(".titular", {y: -100, opacity: 0, duration: 1, scale: 2.5})
        gsap.from(".subtitulo", {y: -50, opacity: 0, duration: 1, scale: 1.5})
        */
        /*
        Las animaciones de tipo to permiten animar desde el estado natural del elemento
        hasta el estado de la animación.
        gsap.to(".titular", {
          y: -100,
          opacity: 0,
          duration: 1,
          scale: 2.5,
        });
        */
        /*
          Las animaciones de tipo fromTo permiten animar desde un estado inicial hasta un estado final.
          gsap.fromTo(
          ".titular",
          {
            y: 200,
            opacity: 0,
            scale: 0.5,
          },
          {
            y: -50,
            opacity: 1,
            scale: 2.5,
            duration: 1,
          }
        );
      */

        // Animación de texto con SplitText
        /*
        gsap.registerPlugin(SplitText);
        const split = new SplitText(".titular", { type: "words,chars" });

        gsap.from(split.chars, {
          y: -200,
          opacity: 0,
          scale: 0.5,
          duration: 1,
          stagger: 0.05,
        });
      });
      */
        // Suavizar el scroll con Lenis
        /*
          smoothWheel: true permite suavizar el scroll con el mouse.
          duration: 2 establece la duración de la animación de scroll.
          easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)) establece una función de easing personalizada.
          requestAnimationFrame(raf) permite que la animación de scroll se actualice en cada
          frame de la animación.
        */
        const lenis = new Lenis({
          smoothWheel: true,
          duration: 5,
          easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
        });

        // Function to update Lenis on scroll
        function raf(time) {
          lenis.raf(time);
          requestAnimationFrame(raf);
        }

        requestAnimationFrame(raf);

        gsap.fromTo(
          "#fondo",
          {  backgroundSize: "150% 150%", backgroundPosition: "0% 0%"},
          {
            backgroundSize: "100% 100%",
            backgroundPosition: "100% 100%",
            duration: 3,
            yoyo: true,
            repeat: -1,
            ease: "power2.inOut",
          }
        )
        // ScrollTrigger
        gsap.registerPlugin(ScrollTrigger);
        gsap.to([".titular", ".subtitulo"], {
          y: 100,
          opacity: 0,
          skewY: 8,
          scrollTrigger: {
            trigger: "#inicio",
            start: "top top",
            end: "80% 35%",
            markers: true,
            scrub: true,
          },
        });
      });
    </script>
  </body>
</html>
